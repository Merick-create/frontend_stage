<app-nav-bar-tabs></app-nav-bar-tabs>

<div class="container mt-4" *ngIf="products.length; else loading">
  <h2 class="mb-4">Your Checkout</h2>

  <div class="card mb-3" *ngFor="let item of products">
    <div class="card-body">
      <h5 class="card-title">{{ item.product.name }}</h5>
      <img [src]="item.product.img" alt="{{ item.product.name }}" class="img-fluid mb-2" style="max-width: 150px;">
      <p class="card-text">{{ item.product.description }}</p>
      <p class="card-text">Quantity: {{ item.quantity }}</p>
      <p class="card-text">Price per item: ${{ item.price }}</p>
    </div>

    <div class="alert alert-primary text-end fw-bold">
      Total: ${{ item.quantity * item.price }}
    </div>
  </div>
</div>

<div class="alert alert-primary text-end fw-bold" *ngIf="checkout">
  Total Price: ${{ checkout.totalPrice }}
</div>

<!-- Styled Button -->
<button class="btn btn-success btn-lg w-100 mt-4" (click)="destroyCheckout()">
  Complete Purchase
</button>

<!-- Order Confirmation Message -->
<div *ngIf="orderConfirmed" class="alert alert-success mt-4 text-center fw-bold">
  âœ… Your order has been confirmed and is being shipped!
</div>

<!-- Loading Spinner -->
<ng-template #loading>
  <div class="text-center mt-5">
    <div class="spinner-border text-primary" role="status"></div>
    <p>Loading...</p>
  </div>
</ng-template>
